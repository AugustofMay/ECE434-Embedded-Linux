#include <stdio.h>
#include <stdlib.h>
#include <unistd.h>
#include <sys/wait.h>

#include <libsoc_gpio.h>
#include <libsoc_debug.h>

#define BUTTON1 48
#define BUTTON2 51
#define BUTTON3 5
#define BUTTON4 4

#define LED1 3
#define LED2 2
#define LED3 49
#define LED4 15

int main(void) {
    gpio *gpio_output;

    libsoc_set_debug(1);
    
    gpio_output = libsoc_gpio_request(GPIO_OUTPUT, LS_SHARED);
    libsoc_gpio_set_direction(gpio_output, OUTPUT);

    libsoc_set_debug(0);

    int i;
    for(i = 0; i < 1000000; i++) {
        libsoc_gpio_set_level(gpio_output, HIGH);
        usleep(100000);
        libsoc_gpio_set_level(gpio_output, LOW);
        usleep(100000);
    }

    if(gpio_output) {
        libsoc_gpio_free(gpio_output);
    }

    return EXIT_SUCCESS;
}
